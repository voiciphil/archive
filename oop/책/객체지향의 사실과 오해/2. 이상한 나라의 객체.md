# 2. 이상한 나라의 객체

### 객체

* 객체는 식별 가능한 개체 또는 사물이다.
* 객체는 구체적인 사물일 수도 있고 추상적인 개념일 수도 있다.
* 객체는 상태, 행동, 식별자를 가진다.

### 상태

* 상태는 특정 시점에 객체가 가지고 있는 정보의 집합이다.
* 상태는 변경되지 않고 고정된 값인 프로퍼티와 시간의 흐름에 따라 변경되는 프로퍼티 값으로 구성된다.
  * 객체의 프로퍼티는 단순한 값인 속성과, 다른 객체를 참조하는 링크로 구분할 수 있다.
* 객체의 상태는 다른 객체에 의해 직접적으로 변경될 수 없고 스스로의 행동에 의해서만 상태가 변경된다.
  * 이는 객체의 자율성을 보장한다.

### 행동

* 행동은 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동이다.
* 객체는 행동을 통해 다른 객체와의 협력에 참여하므로 행동은 외부에 가시적이어야 한다.
* 행동의 결과로 자기 자신의 상태를 변경하거나 다른 객체에 메시지를 전달할 수 있다.
  * 객체의 외부에서는 객체의 상태가 어떻게 변하는지 알 수 없다.
* 행동의 결과는 상태에 영향을 받는다.

### 상태와 행동

* 행동의 결과는 이전에 일어난 행동에 영향을 받는다.
  * 이전에 일어난 행동을 모두 기억하고 판단하며 다음 행동의 결과를 결정하는 방법은 매우 어렵기 때문에 상태라는 개념이 도입되었다.
  * 상태를 이용하면 과거의 모든 행동 이력을 설명하지 않고도 행동의 결과를 쉽게 예측할 수 있다.
* 행동으로 인해 상태가 변화하고, 행동의 결과는 상태에 영향을 받는다.

### 상태 캡슐화

* 객체의 행동을 유발하는 것은 외부로부터 전달된 메시지지만 객체의 상태 변경 여부는 객체 스스로 결정한다.
  * 메시지를 보내는 외부의 객체는 수신하는 객체의 상태가 변경된다는 사실조차 알지 못한다.
* 상태를 외부에 노출시키지 않고 캡슐화하는 것은 결과적으로 객체의 자율성을 높인다.
* 객체의 자율성이 높아질수록 협력은 유연하고 간결해진다.

### 식별자

* 객체가 식별 가능하다는 것은 객체를 구별할 수 있는 프로퍼티가 존재한다는 것을 의미한다.
  * 이 프로퍼티를 식별자라고 한다.
* 객체의 상태는 시간에 따라 변화하기 때문에 상태를 가지고 객체를 구별할 수 없다.
  * 따라서 상태 변화에 독립적인 별도의 식별자를 이용해 객체를 구별해야 한다.

### 행동이 상태를 결정한다

* 상태를 중심으로 객체를 설계하지 말고 행동을 중심으로 객체를 설계하라.
  * 상태를 먼저 결정할 경우 캡슐화가 저해된다.
  * 상태를 먼저 고려하는 방식은 객체를 협력이라는 문맥에서 멀리 벗어난 채 설계하게 한다.
  * 상태에 초점을 맞춘 객체는 다양한 협력에 참여하기 어렵기 때문에 재사용성을 저하시킨다.
* 객체지향 설계는 애플리케이션에 필요한 협력을 생각하고 협력에 참여하는 데 필요한 행동을 생각한 후 행동을 수행할 객체를 선택하는 방식으로 수행된다.
  * 행동을 결정한 후에야 행동에 적절한 상태를 결정하게 된다.

### 현실 세계의 객체와 소프트웨어 세계의 객체

* 현실 세계의 객체와 소프트웨어 세계의 객체는 명백히 다르다.
  * 객체지향은 현실 세계의 모방이라는 말은 문제가 있다.
* 현실에서는 수동적인 객체도 소프트웨어 세계에서는 능동적인 객체로 표현된다.
  * 예를 들어, 현실 세계에서 방에 불을 키려면 사람이 직접 전등의 스위치를 눌러 불을 키지만, 소프트웨어 세계에서는 사람이 전등에게 불을 켜달라 요청하고 전등이 스스로 불을 밝힌다.
* 이런 소프트웨어 객체의 특징을 의인화라고 부른다.
* 현실 세계의 객체와 소프트웨어 세계의 객체가 서로 관련이 없는 것은 아니다.
  * 소프트웨어 객체는 현실 객체에 대한 은유이다.
